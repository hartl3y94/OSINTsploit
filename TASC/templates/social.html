{% extends "base.html" %} 
{% load static %}
{% block content %}
<br>
<center>

  {% if request.user.profile.darkmode %}

  <script>
    var options = {
    bottom: '64px', // default: '32px'
    right: 'unset', // default: '32px'
    left: '32px', // default: 'unset'
    time: '0.5s', // default: '0.3s'
    mixColor: '#fff', // default: '#fff'
    backgroundColor: '#fff',  // default: '#fff'
    buttonColorDark: '#100f2c',  // default: '#100f2c'
    buttonColorLight: '#fff', // default: '#fff'
    saveInCookies: true, // default: true,
    label: 'ðŸŒ“', // default: ''
    autoMatchOsTheme: true // default: true
  }
  const darkmode = new Darkmode(options);
  </script>

<style>
  .card {
  background-color: #111111;
}
  .card-header {
  color: white;
}

.card-body p {
  color: white;
}

.card-body pre {
    color: white;
}

.card-body table {
  background-color: #111111;
}

.card-title {
  color: white;
}

.col-md-3 {
    color: white;
}

</style>

{% endif %}
<script>
function settype(type){
  document.getElementById('type').value=type;
  document.getElementById('data').value+="'Social':True"+",";
  document.getElementById('search_export').submit();
}
</script>

{% if export != True %}
  <div class="dropdown" align="right">
    <form name="search_export" id="search_export" method="POST" action="/"> {% csrf_token %}
      <button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">Export as
      <span class="caret"></span></button>
      <ul class="dropdown-menu">
        <li><a role="button" class="dropdown-item" href="javascript:void(0);" onclick="settype('JSON')">JSON</a></li>
        <li><a role="button" class="dropdown-item" href="javascript:void(0);" onclick="settype('PDF')">PDF</a></li>
        <input hidden id="type" name="type" />
        <input hidden id="data" name="data" />
      </ul>
    </form>
  </div>
{% else %}
<div class="jumbotron">
  <div class="container text-center">
    <!-- http://127.0.0.1:8000/static/images/logo.png-->
    <img src="https://i.imgur.com/JzLtjgG.png" alt="Logo" width="150px" height="100%" style="position:relative" />
    <h1>OSINTsploit</h1>   
    <p>Search Report Export</p>
  </div>
</div>
{% endif %}

<br>
{% if social.fbdata and not social.fbdata.Error %}
<div class="card text-center">
  <div class="card-header">
    Facebook
  </div>
  <div class="card-body">
    <img src="{{social.fbdata.ProfilePic}}" class="rounded mx-auto d-block" alt="Facebook Profile Pic"><br>
    <h5 class="card-title">{{social.fbdata.Name}}</h5>
      {% for key, value in social.fbdata.Work_Education.items %}
      <p class="card-text" align="left"><strong>{{key}} :</strong></p>
        {% for value1 in value %}
          <p align="left" style = "margin-left: 25px;">{{value1}}</p>
        {% endfor %}
      {% endfor %}
      <p class="card-text" align="left"><strong>Current City : </strong></p><p align="left" style = "margin-left: 25px;">{{social.fbdata.Current_city}}</p>
      <p class="card-text" align="left"><strong>Home Town : </strong></p><p align="left" style = "margin-left: 25px;">{{social.fbdata.Home_Town}}</p>
    <a href="{{social.fbdata.Contact}}" class="btn btn-primary">{{social.fbdata.Contact}}</a>
  </div>
</div>
<br>
<script>document.getElementById('data').value+="'social.fbdata':{{social.fbdata|safe}}"+","</script>
{% endif %}
</center>

{% if social.fbdata.Error and not socialquery %}
<div class="card text-center">
  <div class="card-header">
    <strong>Facebook</strong>
  </div>
  <div class="card-body">
      <p class="card-text"><strong>Error : {{social.fbdata.Error}}</strong></p>
  </div>
</div>
<br>
{% endif %}


{% if social.instadata and not social.instadata.Error %}

<div class="card text-center">
    <div class="card-header">
      Instagram
    </div>
    <div class="card-body" style="text-align:left">
      <img src="{{social.instadata.ProfilePic}}" class="rounded mx-auto d-block" alt="Instagram Profile Pic" width="150px"><br>
      <h5 class="card-title">{{social.instadata.Name}}</h5>
      <p class="card-text"><strong>URL :</strong> {{social.instadata.URL}}</p>
      <p class="card-text"><strong>BIO :</strong> {{social.instadata.Bio}}</p>
      <p class="card-text"><strong>Followers :</strong> {{social.instadata.Followers}}</p>
      <p class="card-text"><strong>Following :</strong> {{social.instadata.Following}}</p>
      <p class="card-text"><strong>No Of Posts :</strong> {{social.instadata.No_of_posts}}</p>
      <p class="card-text"><strong>Location :</strong></p>
      {% if social.instadata.Location %}
        {% for value in social.instadata.Location %}
        <p class="card-text">{{value}}</p>
        {% endfor %}
      {% else %}
        <p class="card-text">Not Found</p>
      {% endif %} 
    </div>
    </div><br>
<script>document.getElementById('data').value+="'social.instadata':{{social.instadata|safe}}"+",";</script>
{% endif %}

{% if social.instadata.Error and not socialquery %}
<div class="card text-center">
  <div class="card-header">
    <strong>Instagram</strong>
  </div>
  <div class="card-body">
      <p class="card-text"><strong>Error : {{social.instadata.Error}}</strong></p>
  </div>
</div>
<br>
{% endif %}


{% if social.twitterdata and not social.twitterdata.Error %}
<div class="card text-center">
    <div class="card-header">
      Twitter
    </div>
    <div class="card-body">
      <img src="{{social.twitterdata.ProfilePic}}" class="rounded mx-auto d-block" alt="Twitter Profile Pic" width=150px height=150px /><br>
      <h5 class="card-title">{{social.twitterdata.User_Name}}</h5>
      <div align="left">
        <p class="card-text"><strong>User ID :</strong> {{social.twitterdata.User_Id}}</p>
        <p class="card-text"><strong>BIO :</strong> {{social.twitterdata.Description}}</p>
        <p class="card-text"><strong>Location :</strong> {{social.twitterdata.Location}}</p>
        <p class="card-text"><strong>Web Link :</strong> {{social.twitterdata.Web_Link}}</p>
        <p class="card-text"><strong>Twitter Joined Date :</strong> {{social.twitterdata.Twitter_Join_Date}}</p>
        <p class="card-text"><strong>Birthday :</strong> {{social.twitterdata.Birthday}}</p>
        <p class="card-text"><strong>Followers :</strong> {{social.twitterdata.Followers}}</p>
        <p class="card-text"><strong>Following :</strong> {{social.twitterdata.Following}}</p>
        <p class="card-text"><strong>No Of Tweets :</strong> {{social.twitterdata.Total_Tweets}}</p>
        <p class="card-text"><strong>Tweets :</strong></p>
      </div>
      {% for value in social.twitterdata.Tweets.values %}
      <p class="card-text" align="left" style = "margin-left: 25px;" >{{value}}</p>
      {% endfor %}
    </div>
  </div><br>
  <script>document.getElementById('data').value+="'social.twitterdata':{{social.twitterdata|safe}}"+",";</script>
{% endif %}

{% if social.twitterdata.Error and not socialquery %}
<div class="card text-center">
  <div class="card-header">
    <strong>Twitter</strong>
  </div>
  <div class="card-body">
      <p class="card-text"><strong>Error : {{social.twitterdata.Error}}</strong></p>
  </div>
</div>
<br>
{% endif %}

{% if social.gitdata %}
<div class="card text-center">
    <div class="card-header">
      GitHub
    </div>
    <div class="card-body">
      <img src="{{social.gitdata.Profile.avatar_url}}" class="rounded mx-auto d-block" alt="Github Profile Pic" width=150px height=150px><br>
      <h5 class="card-title">{{social.gitdata.Profile.login}}</h5>
      <div align="left">
        <p class="card-text"><strong>Name :</strong> {{social.gitdata.Profile.name}}</p>
        <p class="card-text"><strong>BIO :</strong> {{social.gitdata.Profile.bio}}</p>
        <p class="card-text"><strong>Location :</strong> {{social.gitdata.Profile.location}}</p>
        <p class="card-text"><strong>Blog :</strong> {{social.gitdata.Profile.blog}}</p>
        <p class="card-text"><strong>Company :</strong> {{social.gitdata.Profile.company}}</p>
        <p class="card-text"><strong>Email :</strong> {{social.gitdata.Profile.email}}</p>
        <p class="card-text"><strong>Followers :</strong> {{social.gitdata.Profile.followers}}</p>
        <p class="card-text"><strong>Following :</strong> {{social.gitdata.Profile.following}}</p>
        <p class="card-text"><strong>No Of Respository :</strong> {{social.gitdata.Profile.public_repos}}</p>
        <p class="card-text"><strong>Public Respository :</strong></p>
        {% for value in social.gitdata.Repository %}
          <p class="card-text" style = "margin-left: 25px;" >{{value}}</p>
        {% endfor %}

      {% if social.gitdata.Mails %}
      <table class="table table-hover table-striped table-light table-bordered">
        <thead>
          <tr>
            <th class="col-md-3" scope="col"><center>Mail ID</center></th>
            <th class="col-md-3" scope="col"><center>Scan</center></th>
          </tr>
        </thead>
        <tbody>
          {% for value in social.gitdata.Mails %}
            <tr>
              <td class="col-md-3">{{value}}</td>
              <form name="emailsearch" id="emailsearch" method="POST" action="/" > {% csrf_token %}
                <input hidden name="query" id="query" value="email:{{value}}"> 
              <td><center><button type="button" value="query" onclick="javascript:document.getElementById('recaptcha').click();" class="btn btn-primary btn-sm">Execute</button></center></td>
                <input type="hidden" name="g-recaptcha-response" id="g-recaptcha-token" value="" />
                <button id="recaptcha" class="g-recaptcha" data-sitekey="6LdcXqUZAAAAAP7lK_k0muU99TX9UTnXZJh-VmVw" data-callback='onSubmit' hidden>Submit</button>
              </form>
            </tr>
          {% endfor %}
        </tbody>
      </table>
      {% endif %}

      </div>
    </div>
  </div><br>
  <script>document.getElementById('data').value+="'social.gitdata':{{social.gitdata|safe}}"+","</script>
{% endif %}

{% if social.tinder %}
<div class="card text-center">
    <div class="card-header">
      tinder
    </div>
    <div class="card-body">
      <img src="{{social.tinder.picture}}" class="rounded mx-auto d-block" alt="social.tinder Profile Pic" width=150px height=150px><br>
      <div align="left">
      <p class="card-text"><strong>Name :</strong> {{social.tinder.name}}</p>
      <p class="card-text"><strong>Age :</strong> {{social.tinder.age}}</p>
      <p class="card-text"><strong>Location :</strong> {{social.tinder.Location}}</p>
      </div>
    </div>
  </div><br>
  <script>document.getElementById('data').value+="'social.tinder':{{social.tinder|safe}}"+","</script>
{% endif %}

{% if social.gravatar %}
<div class="card text-center">
    <div class="card-header">
      Gravatar
    </div>
    <div class="card-body">
      <img src="{{social.gravatar.entry.0.thumbnailUrl}}" class="rounded mx-auto d-block" alt="social.gravatar Profile Pic"><br>
      <div align="left">
      <p class="card-text"><strong>Username :</strong> {{social.gravatar.entry.0.preferredUsername}}</p>
      <p class="card-text"><strong>Fullname :</strong> {{social.gravatar.entry.0.name.givenName}}</p>
      <p class="card-text"><strong>Family Name :</strong> {{social.gravatar.entry.0.name.familyName}}</p>
      <p class="card-text"><strong>About :</strong> {{social.gravatar.entry.0.aboutMe}}</p>
      
      <p class="card-text"><strong>Profile Url :</strong> {{social.gravatar.entry.0.profileUrl}}</p>
      {% if social.gravatar.urls|length > 0 %}
        {% for url in social.gravatar.urls %}
          <p class="card-text">{{url}}</p>
        {% endfor %}
      {% endif %} 
      {% if social.gravatar.entry.0.emails.0.value%}
        <table class="table table-hover table-striped table-light">
          <thead>
            <tr>
              <th scope="col">Mail ID</th>
              <th scope="col">Scan</th>
            </tr>
          </thead>
          <tbody>
              <tr>
                <td>{{social.gravatar.entry.0.emails.0.value}}</td>
                <form name="emailsearch" id="emailsearch" method="POST" action="/" > {% csrf_token %}
                  <input hidden name="query" id="query" value="email:{{social.gravatar.entry.0.emails.0.value}}"> 
                <td><button type="button" value="query" onclick="javascript:document.getElementById('recaptcha').click();" class="btn btn-primary btn-sm">Execute</button></td>
                <input type="hidden" name="g-recaptcha-response" id="g-recaptcha-token" value="" />
                <button id="recaptcha" class="g-recaptcha" data-sitekey="6LdcXqUZAAAAAP7lK_k0muU99TX9UTnXZJh-VmVw" data-callback='onSubmit' hidden>Submit</button>
                </form>
              </tr>
          </tbody>
        </table>
      {% endif %}
      </div>
    </div>
  </div><br>
  <script>document.getElementById('data').value+="'social.gravatar':{{social.gravatar|safe}}"+","</script>
{% endif %}

{% if social.tiktok %}
<div class="card text-center">
    <div class="card-header">
      TikTok
    </div>
    <div class="card-body">
      <img src="{{social.tiktok.cover_image}}" class="rounded mx-auto d-block" alt="TikTok Profile Pic" height=150px><br>
      <div align="left">
      <p class="card-text"><strong>Username :</strong> {{social.tiktok.username}}</p>
      <p class="card-text"><strong>Bio :</strong> {{social.tiktok.bio}}</p>
      <p class="card-text"><strong>Following :</strong> {{social.tiktok.following}}</p>
      <p class="card-text"><strong>Followers :</strong> {{social.tiktok.fans}}</p>
      <p class="card-text"><strong>Likes :</strong> {{social.tiktok.hearts}}</p>
      <p class="card-text"><strong>Video :</strong> {{social.tiktok.video}}</p>
      <p class="card-text"><strong>Is_Verified :</strong> {{social.tiktok.is_verified}}</p>
      </div>
    </div>
  </div><br>
  <script>document.getElementById('data').value+="'social.tiktok':{{social.tiktok|safe}}"+","</script>
{% endif %}

{% if social.medium %}
<div class="card text-center">
    <div class="card-header">
      Medium
    </div>
    <div class="card-body">
      <img src="{{social.medium.Profile_pic}}" class="rounded mx-auto d-block" alt="Medium Profile Pic" width=150px height=150px><br>
      <div align="left">
      <p class="card-text"><strong>Full Name :</strong> {{social.medium.full_name}}</p>
      <p class="card-text"><strong>Bio :</strong> {{social.medium.bio}}</p>
      <p class="card-text"><strong>Is Premium Membership :</strong> {{social.tiktok.is_paid_member}}</p>
      <p class="card-text"><strong>Followers :</strong> {{social.tiktok.fans}}</p>
      {% for extra in extras %}
        <p class="card-text">{{extra}}</p>
      {% endfor %}
      </div>
    </div>
  </div><br>
  <script>document.getElementById('data').value+="'social.medium':{{social.medium|safe}}"+","</script>
{% endif %}

{% if social.pinterest %}
<div class="card text-center">
    <div class="card-header">
      Pinterest
    </div>
    <div class="card-body">
      <img src="{{social.pinterest.profile_image}}" class="rounded mx-auto d-block" alt="Pinterest Profile Pic" width=150px height=150px><br>
      <div align="left">
      <p class="card-text"><strong>Full Name :</strong> {{social.pinterest.full_name}}</p>
      <p class="card-text"><strong>Bio :</strong> {{social.pinterest.bio}}</p>
      <p class="card-text"><strong>Is Verified :</strong> {{social.pinterest.is_verified}}</p>
      <p class="card-text"><strong>Followers :</strong> {{social.pinterest.followers}}</p>
      <p class="card-text"><strong>Followings :</strong> {{social.pinterest.followings}}</p>
      <p class="card-text"><strong>Location :</strong> {{social.pinterest.location}}</p>
      <p class="card-text"><strong>Country :</strong> {{social.pinterest.country}}</p>
      <p class="card-text"><strong>Impressum Url :</strong> {{social.pinterest.impressum_url}}</p>
      <p class="card-text"><strong>Website :</strong> {{social.pinterest.website}}</p>
      <p class="card-text"><strong>Board count :</strong> {{social.pinterest.board_count}}</p>
      <p class="card-text"><strong>Pin count :</strong> {{social.pinterest.pin_count}}</p>
      </div>
    </div>
  </div><br>
  <script>document.getElementById('data').value+="'social.pinterest':{{social.pinterest|safe}}"+","</script>
{% endif %}

{% if social.keybase %}
<div class="card text-center">
    <div class="card-header">
      Keybase
    </div>
    <div class="card-body">
      <img src="{{social.keybase.picture}}" class="rounded mx-auto d-block" alt="Pinterest Profile Pic" width=150px height=150px><br>
      <div align="left">
      <p class="card-text"><strong>Username :</strong> {{social.keybase.Username}}</p>

      {% if social.keybase.Full_Name != None %}
        <p class="card-text"><strong>Full Name :</strong> {{accounts.Full_Name}}</p>
        <p class="card-text"><strong>Bio :</strong> {{accounts.bio}}</p>
        <p class="card-text"><strong>Location :</strong> {{accounts.Location}}</p> 
      {% endif %}

      <p class="card-text"><strong>Synced Accounts :</strong></p>
      
      {% for accounts in social.keybase.account %}
        <p class="card-text"><strong>Social :</strong> {{accounts.social}}</p>
        <p class="card-text"><strong>Username :</strong> {{accounts.username}}</p>
        <p class="card-text"><strong>Url :</strong> {{accounts.url}}</p>       
        <br> 
      {% endfor %}

      <p class="card-text"><strong>Crypto :</strong> {{social.keybase.crypto}}</p>
      <p class="card-text"><strong>Website :</strong> {{social.pinterest.website}}</p>
      <p class="card-text"><strong>Devices :</strong></p>

      {% for device in social.keybase.devices %}
        <p class="card-text"><strong>Type :</strong> {{device.type}}</p>
        <p class="card-text"><strong>Name :</strong> {{device.Device_Name}}</p>
        <br>
      {% endfor %}

      <p class="card-text"><strong>Public PGP Key</strong></p>
      <pre><code>{{social.keybase.primary_publickey}}</code></pre>
    </div>
  </div><br>
  <script>document.getElementById('data').value+="'social.keybase':{{social.keybase|safe}}"+","</script>
{% endif %}

{% if social.whatname %}
<table class="table table-striped table-bordered">
  <thead>
    <tr>
      <th scope="col"><center>WhatIsMyName</center></th>
      <th scope="col"><center>Other Social Media Account</center></th>
    </tr>
  </thead>
  <tbody>
      {% for names in social.whatname %}
        {% for keys,values in names.items %}
          <tr>
            <td scope="row">{{keys}}</td>
            <td><center><a class="btn btn-primary btn-sm" href="{{values}}" target="_blank">Open</a></center></td>
          </tr>
        {% endfor %}
      {% endfor %}
  </tbody>
</table>
<script>document.getElementById('data').value+="'social.whatname':{{social.whatname|safe}}"+","</script>
{% endif %}

<script>
    function onSubmit(token) {
      document.getElementById("g-recaptcha-token").value=token;
      document.getElementById("emailsearch").submit();
    }
  </script>
<script src="https://www.google.com/recaptcha/api.js?render=6LdcXqUZAAAAAP7lK_k0muU99TX9UTnXZJh-VmVw"></script>


{% if social.gmap3 %}
  <div class="card text-center">
    <div class="card-header">
        Google Map Location
    </div>
    <div class="card-body">
      <div id='map' width="80%" style='height:400px'>
        {% include "heatmap.html" %}
      </div>
    </div>
  </div>
  <br>
  <!--<script>document.getElementById('data').value+="'gmap3':{{gmap3|safe}}"+" "</script>-->
{% endif %}

</center>

{% endblock %}
