{% extends "base.html" %}

{% block content %}

{% if request.user.profile.darkmode %}

  <script>
    var options = { 
    bottom: '64px', // default: '32px'
    right: 'unset', // default: '32px'
    left: '32px', // default: 'unset'
    time: '0.5s', // default: '0.3s'
    mixColor: '#fff', // default: '#fff'
    backgroundColor: '#fff',  // default: '#fff'
    buttonColorDark: '#100f2c',  // default: '#100f2c'
    buttonColorLight: '#fff', // default: '#fff'
    saveInCookies: true, // default: true,
    label: 'ðŸŒ“', // default: ''
    autoMatchOsTheme: true // default: true
  }
  const darkmode = new Darkmode(options);
  </script>

  {% endif %}

  <br><br>

  <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a href="settings" class="text-muted">API</a></li>
      <li class="breadcrumb-item active"><a href="change_password">Profile</a></li>
    </ol>
  </nav>

{% if field.errors %}
  {% for field.errors in form %}
  <div class="alert alert-danger" role="alert">
    {{ field.errors }}
  </div>
  {% endfor %}
  {% endif %}

  <div class="form-group row">
    <label for="username" class="col-sm-2 col-form-label">Username:</label>
    <div class="form-group mx-sm-2 mb-2">
      <input type="text" class="form-control" id="username" name="username" value="{{ user.get_username }}" readonly>
    </div>
  </div>

  {% if form.errors %}
  {% for error,message in form.errors.items %}
      <div class="alert alert-danger" role="alert">
        {{ message }}
      </div>
      {% endfor %}
        {% endif %}
        

<form method="post">
    {% csrf_token %}
    {% for field in form %}



<div class="form-group row">
  <label class="col-sm-2 col-form-label">{{ field.label_tag }}</label>
  <div class="col-sm-10">
    {{ field }}
  </div>
</div>
{% endfor %}
<div class="form-group row">
  <div class="col-sm-10">
    <button type="submit" class="btn btn-primary">Save</button>
  </div>
</div>
  </form>

  {% endblock %}