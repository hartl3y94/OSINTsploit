{% extends "base.html" %}

{% load static %}
{% block notification %}
  <div class="dropdown-item">
      <div class="media">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-heart"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg>
          <div class="media-body">
              <div class="notification-para"><span class="user-name">Shaun Park</span> likes your photo.</div>
          </div>
      </div>
  </div>
{% endblock %}

{% block content %}

    <script src="{% static 'js/index.js' %}"></script>    
    <!--  BEGIN CUSTOM STYLE FILE  -->
    <link href="{% static 'assets/css/pages/helpdesk.css' %}" rel="stylesheet" type="text/css" />
    <!--  END CUSTOM STYLE FILE  -->    
       

        <div class="row layout-top-spacing">

 <!--  BEGIN CONTENT AREA  -->
      <style>
    .mainsearch {
    height: 100%;
    background-color: #1b55e2;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 1000'%3E%3Cg %3E%3Ccircle fill='%232b50ed' cx='50' cy='0' r='50'/%3E%3Cg fill='%233154ea' %3E%3Ccircle cx='0' cy='50' r='50'/%3E%3Ccircle cx='100' cy='50' r='50'/%3E%3C/g%3E%3Ccircle fill='%233658e8' cx='50' cy='100' r='50'/%3E%3Cg fill='%233c5be5' %3E%3Ccircle cx='0' cy='150' r='50'/%3E%3Ccircle cx='100' cy='150' r='50'/%3E%3C/g%3E%3Ccircle fill='%23415fe2' cx='50' cy='200' r='50'/%3E%3Cg fill='%234662df' %3E%3Ccircle cx='0' cy='250' r='50'/%3E%3Ccircle cx='100' cy='250' r='50'/%3E%3C/g%3E%3Ccircle fill='%234b66dc' cx='50' cy='300' r='50'/%3E%3Cg fill='%235069d9' %3E%3Ccircle cx='0' cy='350' r='50'/%3E%3Ccircle cx='100' cy='350' r='50'/%3E%3C/g%3E%3Ccircle fill='%23546cd5' cx='50' cy='400' r='50'/%3E%3Cg fill='%23596fd2' %3E%3Ccircle cx='0' cy='450' r='50'/%3E%3Ccircle cx='100' cy='450' r='50'/%3E%3C/g%3E%3Ccircle fill='%235e72cf' cx='50' cy='500' r='50'/%3E%3Cg fill='%236275cb' %3E%3Ccircle cx='0' cy='550' r='50'/%3E%3Ccircle cx='100' cy='550' r='50'/%3E%3C/g%3E%3Ccircle fill='%236678c8' cx='50' cy='600' r='50'/%3E%3Cg fill='%236b7bc4' %3E%3Ccircle cx='0' cy='650' r='50'/%3E%3Ccircle cx='100' cy='650' r='50'/%3E%3C/g%3E%3Ccircle fill='%236f7ec0' cx='50' cy='700' r='50'/%3E%3Cg fill='%237381bc' %3E%3Ccircle cx='0' cy='750' r='50'/%3E%3Ccircle cx='100' cy='750' r='50'/%3E%3C/g%3E%3Ccircle fill='%237783b8' cx='50' cy='800' r='50'/%3E%3Cg fill='%237c86b4' %3E%3Ccircle cx='0' cy='850' r='50'/%3E%3Ccircle cx='100' cy='850' r='50'/%3E%3C/g%3E%3Ccircle fill='%238089b0' cx='50' cy='900' r='50'/%3E%3Cg fill='%23848bac' %3E%3Ccircle cx='0' cy='950' r='50'/%3E%3Ccircle cx='100' cy='950' r='50'/%3E%3C/g%3E%3Ccircle fill='%23888ea8' cx='50' cy='1000' r='50'/%3E%3C/g%3E%3C/svg%3E");

}
      </style>          
<div class="toast toast-danger" id="toast" style="position: absolute; top: 200; right: 10px;" role="alert" aria-live="assertive" aria-atomic="true" data-autohide="true" data-delay="5000">
  <div class="toast-header">
    <strong class="mr-auto" ><i class="fas fa-exclamation-triangle"></i>&nbsp Oops! Error </strong>
    <button type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
    </div>
  <div id="error-msg" class="toast-body text-secondary">
    Query you have entered is invalid or incorrect.
  </div>
</div>

  <div class="col-xl-9 col-lg-12 col-md-12 col-sm-12 col-12 layout-spacing">
      <div class="widget widget-chart-three">

    <div class="widget-content">

        <div class="mainsearch">

        <div class="hd-header-wrapper">
            <div class="row">            
                <div class="col-md-12 text-center">
                    <h4 class="">OSINTsploit</h4>
                    <p class="">Suspect Search Engine</p>
    <script>
      function onSubmit(token) {
        document.getElementById("g-recaptcha-token").value=token;
        //alert(document.getElementById("g-recaptcha-response").value);
        if(validation()==true){
            const toast = swal.mixin({
          toast: true,
          position: 'top-end',
          showConfirmButton: false,
          timer: 3000,
          padding: '2em'
        });
        toast({
          type: 'success',
          title: 'Scan added to the queue',
          padding: '2em',
        })
        
         $.ajax({
            url: "/",
            headers: {'X-CSRFToken': '{{ csrf_token }}'},
            type: "POST",
            data: {'query':document.getElementById('query').value,"ajax":"True",
                  "g-recaptcha-response":document.getElementById("g-recaptcha-token").value},
            cache:false,
            success: function(resp){
                alert(resp);
            }
        });
        //document.submitForm.submit();
      }
      }
    </script>
    <script src="https://www.google.com/recaptcha/api.js?render=6LdcXqUZAAAAAP7lK_k0muU99TX9UTnXZJh-VmVw"></script>
    
  <div class="row">
      <div class="col-xl-6 col-lg-7 col-md-7 col-sm-11 col-11 mx-auto">
          <div class="input-group mb-3">
              <div class="input-group-prepend">
                  <span class="input-group-text" id="basic-addon1"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg></span>
              </div>
                <form id="submitForm" name="submitForm" method="POST" onSubmit="validation();"> {% csrf_token %}
                  <input hidden name="query" id="query">
                  <input type="text" class="form-control" name="searchquery" id="searchquery" placeholder="Enter Suspect Details" value="" aria-label="Username" aria-describedby="basic-addon1" >
                  <!--<input type="hidden" name="g-recaptcha-response" id="g-recaptcha-token" value="" />
                  <button id="recaptcha" class="g-recaptcha" data-sitekey="6LdcXqUZAAAAAP7lK_k0muU99TX9UTnXZJh-VmVw" data-callback='onSubmit' hidden>Submit</button>-->
                </form>
            </div>
        </div>
    </div>
</div>
</div>
</div>
</div>
</div></div>

  <div class="container h-100">
      <div class="d-flex justify-content-center h-100">
      {% if error %}
        <script>
          document.getElementById("error-msg").innerHTML="{{error}}";
          document.getElementById("toast").style.zIndex="1";
          $('.toast').toast('show');
        </script>
      {% endif %}
    </div>

    <script>
      var input = document.getElementById("query");
      input.addEventListener("keyup", function(event) {
        if (event.keyCode === 13) {
         toaster();
         event.preventDefault();
         document.submitForm.submit()
        }
      });
      </script>

      </div>
  </div>

  <div class="col-xl-3 col-lg-6 col-md-6 col-sm-12 col-12 layout-spacing">
      <div class="widget widget-activity-three">

          <div class="widget-heading">
              <h5 class="">Notifications</h5>
          </div>

          <div class="widget-content">

              <div class="mt-container mx-auto">
                  <div class="timeline-line">
                      
                      <div class="item-timeline timeline-new">
                          <div class="t-dot">
                              <div class="t-primary"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-check"><polyline points="20 6 9 17 4 12"></polyline></svg></div>
                          </div>
                          <div class="t-content">
                              <div class="t-uppercontent">
                                  <h5>Logs</h5>
                                  <span class="">27 Feb, 2020</span>
                              </div>
                              <p><span>Updated</span> Server Logs</p>
                              <div class="tags">
                                  <div class="badge badge-primary">Logs</div>
                                  <div class="badge badge-success">CPanel</div>
                                  <div class="badge badge-warning">Update</div>
                              </div>
                          </div>
                      </div>

                      <div class="item-timeline timeline-new">
                          <div class="t-dot">
                              <div class="t-success"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mail"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg></div>
                          </div>
                          <div class="t-content">
                              <div class="t-uppercontent">
                                  <h5>Mail</h5>
                                  <span class="">28 Feb, 2020</span>
                              </div>
                              <p>Send Mail to <a href="javascript:void(0);">HR</a> and <a href="javascript:void(0);">Admin</a></p>
                              <div class="tags">
                                  <div class="badge badge-primary">Admin</div>
                                  <div class="badge badge-success">HR</div>
                                  <div class="badge badge-warning">Mail</div>
                              </div>
                          </div>
                      </div>

                      <div class="item-timeline timeline-new">
                          <div class="t-dot">
                              <div class="t-danger"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-check"><polyline points="20 6 9 17 4 12"></polyline></svg></div>
                          </div>
                          <div class="t-content">
                              <div class="t-uppercontent">
                                  <h5>Task Completed</h5>
                                  <span class="">01 Mar, 2020</span>
                              </div>
                              <p>Backup <span>Files EOD</span></p>
                              <div class="tags">
                                  <div class="badge badge-primary">Backup</div>
                                  <div class="badge badge-success">EOD</div>
                              </div>
                          </div>
                      </div>

                      <div class="item-timeline timeline-new">
                          <div class="t-dot">
                              <div class="t-warning"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline></svg></div>
                          </div>
                          <div class="t-content">
                              <div class="t-uppercontent">
                                  <h5>Collect Docs</h5>
                                  <span class="">10 Mar, 2020</span>
                              </div>
                              <p>Collected documents from <a href="javascript:void(0);">Sara</a></p>
                              <div class="tags">
                                  <div class="badge badge-success">Collect</div>
                                  <div class="badge badge-warning">Docs</div>
                              </div>
                          </div>
                      </div>

                      <div class="item-timeline timeline-new">
                          <div class="t-dot">
                              <div class="t-dark"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-server"><rect x="2" y="2" width="20" height="8" rx="2" ry="2"></rect><rect x="2" y="14" width="20" height="8" rx="2" ry="2"></rect><line x1="6" y1="6" x2="6" y2="6"></line><line x1="6" y1="18" x2="6" y2="18"></line></svg></div>
                          </div>
                          <div class="t-content">
                              <div class="t-uppercontent">
                                  <h5>Reboot</h5>
                                  <span class="">06 Apr, 2020</span>
                              </div>
                              <p>Server rebooted successfully</p>
                              <div class="tags">
                                  <div class="badge badge-warning">Reboot</div>
                                  <div class="badge badge-primary">Server</div>
                              </div>
                          </div>
                      </div>                                      
                  </div>                                    
              </div>
          </div>
      </div>
  </div>


<!-- End Content Area-->
</div>

{% endblock %}

        